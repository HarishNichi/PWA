(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c843bc74"],{"3bbb":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"p-2 pt-4"},[n("br"),n("b-card",{attrs:{"no-body":""}},[n("div",{attrs:{id:"settingTable"}},[n("b-table",{ref:"selectableTable",attrs:{"select-mode":t.selectModeTable,fields:t.fieldss,items:t.expenseReductionData,"per-page":t.limit,total:t.total,startPage:t.start,busy:t.isBusy,striped:!0,bordered:!0,borderless:!0,"head-variant":"dark",fixed:"","sticky-header":"","show-empty":""},on:{"change-page":t.pageChange,onclick:t.click},scopedSlots:t._u([{key:"cell(checkState)",fn:function(e){return[n("b-form-checkbox",{attrs:{id:"checkbox-"+e.index,name:"checkbox-"+e.index},on:{change:function(n){return t.costToggleSelectAll(e)}},model:{value:e.item.checkState,callback:function(n){t.$set(e.item,"checkState",n)},expression:"item.item.checkState"}})]}},{key:"cell(Type)",fn:function(e){return[t._v(t._s(e.value))]}},{key:"cell(ReductionproposalNo)",fn:function(e){return[t._v(t._s(e.value))]}},{key:"cell(Supplier)",fn:function(e){return[t._v(t._s(e.value))]}},{key:"cell(Reductionproposalname)",fn:function(e){return[t._v(t._s(e.value))]}},{key:"cell(Proposedamount)",fn:function(e){return[t._v(t._s(e.value))]}},{key:"cell(Account)",fn:function(e){return[t._v(t._s(e.value))]}},{key:"cell(Expense)",fn:function(e){return[t._v(t._s(e.value))]}},{key:"cell(CreateDate)",fn:function(e){return[t._v(t._s(e.value))]}},{key:"cell(ProcessStatus)",fn:function(e){return[t._v(t._s(e.value))]}},{key:"cell(ProcessDate)",fn:function(e){return[t._v(t._s(e.value))]}},{key:"cell(PersonIncharge)",fn:function(e){return[t._v(t._s(e.value))]}},{key:"empty",fn:function(){return[n("div",{staticClass:"text-center errorColor"},[t._v(" "+t._s(t.$t("GENRALDATAERRORMESSAGE"))+" ")])]},proxy:!0},{key:"table-busy",fn:function(){return[n("div",{staticClass:"text-center text-danger my-2"},[n("b-spinner",{staticClass:"align-middle"})],1)]},proxy:!0}])})],1)]),n("b-row",[n("b-col",{attrs:{cols:"12",xl:"4"}},[n("b-button",{staticClass:"ReductionBtn",attrs:{disabled:1!=t.checkedItems.length,variant:"primary"},on:{click:t.updateDeleteFlag}},[t._v(t._s(t.$t("Delete")))])],1),n("b-col",{attrs:{cols:"12",xl:"5"}},[n("b-pagination",{attrs:{"total-rows":t.totalRows,"per-page":t.limit,align:"center",size:"sm"},scopedSlots:t._u([{key:"prev-text",fn:function(){return[t._v(t._s(t.$t("PREVIOUS")))]},proxy:!0},{key:"next-text",fn:function(){return[t._v(t._s(t.$t("NEXT")))]},proxy:!0},{key:"page",fn:function(e){var a=e.page,r=e.active;return[n(r?"strong":"i",[t._v(t._s(a))])]}}]),model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1),n("b-col",{staticClass:"pr-4 mt-0",attrs:{cols:"12",xl:"3"}},[n("div",{staticClass:"countList"},[n("label",[t._v(t._s(t.$t("MEANS")))]),t._v(" "),t._l(t.pageOptions,(function(e,a){return[t.limit==e?n("b-link",{key:a,attrs:{href:"javascript:;"}},[t._v(" "+t._s(e)+" "),a!=t.pageOptions.length-1?n("span",[t._v(" | ")]):t._e()]):n("b-link",{key:a,attrs:{href:"javascript:;"},on:{click:function(n){return t.perPageChange(e)}}},[n("u",[t._v(t._s(e))]),a!=t.pageOptions.length-1?n("span",[t._v(" | ")]):t._e()])]}))],2)])],1),n("br")],1)},r=[],o=(n("8e6e"),n("cadf"),n("456d"),n("6b54"),n("a481"),n("ac6a"),n("96cf"),n("3b8d")),c=n("bd86"),s=n("3f54"),i=n("2f62"),u=n("8992"),l=n("2f4e");function p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(n,!0).forEach((function(e){Object(c["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var h=s["a"].get("basic"),d={data:function(){return{expenseReductionData:[],selectModeTable:"single",selected:[],isBusy:!1,proposalType:"",statusType:"",total:0,limit:50,start:0,currentPage:1,pageOptions:[50,100,200],checkedItems:[],messageFlag:!1,messageFlag2:!1,quotationData:[],reductionData:[]}},computed:f({},Object(i["b"])({user_details:"getUserDetails",client_details:"getClientData"}),{totalRows:function(){return this.total?this.total:this.getRowCount()},items:function(){return this.expenseReductionData},rows:function(){return this.expenseReductionData.length},lists:function(){var t=this.expenseReductionData;return t.slice((this.currentPage-1)*this.perPage,this.currentPage*this.perPage)},fieldss:function(){return[{key:"checkState",label:"",class:"text-center normal-width"},{key:"Type",label:this.$t("Type"),class:"text-center normal-width"},{key:"ReductionproposalNo",label:this.$t("proposalNo"),class:"text-center normal-width"},{key:"Supplier",label:this.$t("Supplier"),class:"text-center normal-width"},{key:"Reductionproposalname",label:this.$t("proposalname"),class:"text-center normal-width"},{key:"Proposedamount",label:this.$t("Proposedamount"),class:"text-center normal-width"},{key:"Account",label:this.$t("Account"),class:"text-center normal-width"},{key:"Expense",label:this.$t("Expense"),class:"text-center normal-width"},{key:"CreateDate",label:this.$t("CreateDate"),class:"text-center normal-width"},{key:"ProcessStatus",label:this.$t("ProcessStatus"),class:"text-center normal-width"},{key:"ProcessDate",label:this.$t("ProcessDate"),class:"text-center normal-width"},{key:"PersonIncharge",label:this.$t("PersonIncharge"),class:"text-center normal-width"}]}}),watch:{currentPage:function(){this.pageChange(this.currentPage)},startPage:function(){this.currentPage=this.startPage+1}},mounted:function(){this.getExpenseReductionData(),this.getQuotationData()},created:function(){},methods:{getRowCount:function(){return this.items.length},pageChange:function(t){this.start=t-1,this.getExpenseReductionData()},perPageChange:function(t){this.limit=t,this.getExpenseReductionData()},costToggleSelectAll:function(t){t.item.checkState=!t.item.checkState,this.checkedItems=this.expenseReductionData.filter((function(t){if(1==t.checkState)return t}))},getExpenseReductionData:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n,a,r,o,c=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.isBusy=!0,t.next=3,h.postAPI(l["a"].CLIENTREADREDUCTIONPROPOSALLIST,{client_no:20,limit:this.limit,offset:this.start*this.limit,paginate:!0});case 3:e=t.sent,n=e.data,n.success&&(this.total=0,a=n.data.reductionProposalList,a.length>0?(r=a,this.total=n.data.total,o=[],r.forEach((function(t){var e;"001"===t.proposal_type?c.proposalType=c.$t("ProposalType1"):"002"===t.proposal_type?c.proposalType=c.$t("ProposalType2"):"000"===t.proposal_type?c.proposalType=c.$t("ProposalType3"):c.proposalType="","01"==t.sts_kbn?c.statusType=c.$t("Prossesing"):"02"==t.sts_kbn?c.statusType=c.$t("UnProcessed"):"03"==t.sts_kbn&&(c.statusType=c.$t("Processed")),e=null==t.reduction_proposal_cost?null:t.reduction_proposal_cost;var n={checkState:!1,Type:c.proposalType,ReductionproposalNo:t.reduction_proposal_no,Supplier:t.supplier_name,Reductionproposalname:t.reduction_proposal_name,Proposedamount:e,Account:t.accounts_name_nm,Expense:t.expense_item_nm,CreateDate:Object(u["e"])(new Date(t.create_dt)),ProcessStatus:c.statusType,ProcessDate:Object(u["e"])(new Date(t.update_dt)),PersonIncharge:t.person_name,Icon:"1",request_quotation_no:t.request_quotation_no};o.push(n)})),this.expenseReductionData=o,this.isBusy=!1):this.isBusy=!1);case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),filterByCurrency:function(t){try{return parseInt(t).toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")}catch(e){return 0}},updateDelFlg:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n,a,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.checkedItems,n=[],a=[],e.forEach((function(t){var e=t.ReductionproposalNo,r=t.request_quotation_no;n.push(e),a.push(r)})),t.next=6,h.postAPI(l["a"].CLIENTDELETEREDUCTIONPROPOSALLIST,{reduction_proposal_no:n,request_quotation_no:a,client_no:20,update_id:localStorage.getItem("personID")});case 6:r=t.sent,o=r.data,o.success&&this.getExpenseReductionData();case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),updateDeleteFlag:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n,a,r,c,s,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,h.postAPI(l["a"].MASTERREADDATATREDUCTIONPROPOSAL,{fieldlist:["*"],conditions:[{key:"client_no",value:20}]});case 2:e=t.sent,n=e.data,this.reductionData=n.data,a=this.checkedItems,r="",c=this,a.forEach((function(t){r=t.ReductionproposalNo})),this.reductionData.forEach((function(t){r==t.reduction_proposal_no&&i.quotationData.forEach((function(t){r==t.reduction_proposal_no&&(i.messageFlag=!0)}))})),s=this.getSuccessHtml(),this.$swal({width:456,html:s,showCancelButton:!0,confirmButtonText:"OK",cancelButtonText:this.$t("CANCEL"),cancelButtonColor:"#062854",cancelButtonClass:"btn-primary"}).then(function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:1==!e.value?(c.messageFlag=!1,c.messageFlag2=!1):c.checkQuotation();case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 12:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),checkQuotation:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n,a,r,c,s,i,u=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,h.postAPI(l["a"].MASTERREADDATATAGREEMENT,{fieldlist:["*"],conditions:[{key:"client_no",value:20}]});case 2:e=t.sent,n=e.data,a=n.data,r=this.checkedItems,c="",r.forEach((function(t){c=t.request_quotation_no})),a.forEach((function(t){c==t.request_quotation_no&&u.quotationData.forEach((function(t){c==t.request_quotation_no&&(u.messageFlag2=!0)}))})),s=this.successHtml(),i=this,this.$swal({width:456,html:s,showCancelButton:!0,confirmButtonText:"OK",cancelButtonText:this.$t("CANCEL"),cancelButtonColor:"#062854",cancelButtonClass:"btn-primary"}).then(function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(1!=!e.value){t.next=6;break}return i.messageFlag=!1,i.messageFlag2=!1,t.abrupt("return");case 6:i.updateDelFlg();case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 12:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getQuotationData:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,h.postAPI(l["a"].MASTERREADDATATREQUESTQUOTATION,{fieldlist:["*"],conditions:[{key:"client_no",value:20}]});case 2:e=t.sent,n=e.data,this.quotationData=n.data;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),click:function(t){console.log("values",t)},getSuccessHtml:function(){if(1==this.messageFlag){var t="<div >"+this.$t("DELFLAGMESSAGE1")+"</div> ";return t+="<div>"+this.$t("DELFLAGMESSAGE2")+"</div> ",t+="<div>"+this.$t("DELFLAGMESSAGE3")+"</div> ",t}var e="<div>"+this.$t("DELFLAGMESSAGE")+"</div> ";return e},successHtml:function(){if(1==this.messageFlag2){var t="<div >"+this.$t("DELFLAGMESSAGE4")+"</div> ";return t+="<div>"+this.$t("DELFLAGMESSAGE5")+"</div> ",t+="<div>"+this.$t("DELFLAGMESSAGE6")+"</div> ",t}var e="<div>"+this.$t("DELFLAGMESSAGE7")+"</div> ";return e},editDetails:function(t){var e=t.item.request_quotation_no,n=t.item.ReductionproposalNo,a=t.item.Supplier;this.$store.dispatch("setQuotationNo",{Quotation_no:e,Proposal_no:n,Supplier:a}),this.$router.push({name:"client_mgmt_request_app_detail",params:{data:e}})},showReduction:function(){this.$router.push({name:"client_mgmt_cost_reduction_proposal"})}}},g=d,v=(n("cd41"),n("2877")),m=Object(v["a"])(g,a,r,!1,null,"82437a28",null);e["default"]=m.exports},"3f54":function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));n("7f7f");var a=n("3fba"),r=n("2f4e"),o=n("edfa"),c=n("8992"),s=n("41cb"),i=n("d3a4"),u=n("2b0e"),l=function(t){return console.log("error",t),t.response?401===t.request.status&&u["default"].swal.fire({type:"error",text:i["a"].t("UNAUTHORISED"),icon:"error",confirmButtonText:i["a"].t("LOGIN")}).then((function(t){t&&(c["c"].clear(),s["a"].push("/login"))})):u["default"].swal({type:"warning",text:i["a"].t("NETWORKERROR")}),t},p=function(t){var e=r["a"].MLOGIN,n=r["a"].LOGIN,a=r["a"].EVALUATIONUSERMANAGEMENT,s=r["a"].FORGOTPASSWORD,u=r["a"].MFORGOTPASSWORD,l=r["a"].EVALUATIONCLIENTCOSTEXPANSIONITEMLIST,p=r["a"].CLIENTREADCLIENTPOINTINFO,f=r["a"].DASHBOARD,h=r["a"].INTEGRATIONCLIENTDETAILS,d=r["a"].INTEGRATIONREADJOURNALSTATUS,g=r["a"].EVALUATIONEXPENSEITEMCOMPAISON,v=r["a"].INTEGRATIONREFRESHTOKEN,m=r["a"].EVALUATIONCOSTINFOTREELIST,E=r["a"].EVALUATIONCOMPANYJUDGEMENTCOMPARISON,b=r["a"].EVALUATIONEXPENSEITEMCOMPAISON,_=r["a"].EVALUATIONREADEXPENSISYEAR,y=r["a"].EVALUATIONREADYEARLYCOSTINFO;return 200==t.request.status&&t.data.success||t.config.url=="".concat(o["a"].apiUrl).concat(e)||t.config.url=="".concat(o["a"].apiUrl).concat(n)||t.config.url=="".concat(o["a"].apiUrl).concat(s)||t.config.url=="".concat(o["a"].apiUrl).concat(u)||t.config.url=="".concat(o["a"].apiUrl).concat(a)||t.config.url=="".concat(o["a"].apiUrl).concat(l)||t.config.url=="".concat(o["a"].apiUrl).concat(p)||t.config.url=="".concat(o["a"].apiUrl).concat(f)||t.config.url=="".concat(o["a"].apiUrl).concat(h)||t.config.url=="".concat(o["a"].apiUrl).concat(d)||t.config.url=="".concat(o["a"].apiUrl).concat(g)||t.config.url=="".concat(o["a"].apiUrl).concat(v)||t.config.url=="".concat(o["a"].apiUrl).concat(E)||t.config.url=="".concat(o["a"].apiUrl).concat(b)||t.config.url=="".concat(o["a"].apiUrl).concat(_)||t.config.url=="".concat(o["a"].apiUrl).concat(y)||t.config.url=="".concat(o["a"].apiUrl).concat(m)||Object(c["h"])(i["a"].t("ERRORMESSAGE")),t};a["a"].interceptors.response.use((function(t){return p(t)}),(function(t){return l(t)}));var f={getGroupTypes:function(t){return a["a"].post("".concat(r["a"].GROUPTYPESLIST),t)},postAPI:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r={};return n&&(r=Object(c["a"])()),a["a"].post("".concat(o["a"].apiUrl).concat(t),e,{headers:r})},getAPI:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r={};return n&&(r=Object(c["a"])()),a["a"].get("".concat(o["a"].apiUrl).concat(t),{params:e,headers:r})},getCourses:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={};return e&&(n=Object(c["a"])()),a["a"].get("".concat(r["a"].COURSE),{params:t,headers:n})},putAPI:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r={};return n&&(r=Object(c["a"])()),a["a"].put("".concat(o["a"].apiUrl).concat(t),e,{headers:r})},deleteAPI:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r={};return n&&(r=Object(c["a"])()),a["a"].delete("".concat(o["a"].apiUrl).concat(t),{params:e,headers:r})}},h={basic:f},d={get:function(t){return h[t]}}},"454f":function(t,e,n){n("46a7");var a=n("584a").Object;t.exports=function(t,e,n){return a.defineProperty(t,e,n)}},"46a7":function(t,e,n){var a=n("63b6");a(a.S+a.F*!n("8e60"),"Object",{defineProperty:n("d9f6").f})},"85f2":function(t,e,n){t.exports=n("454f")},"8e6e":function(t,e,n){var a=n("5ca1"),r=n("990b"),o=n("6821"),c=n("11e9"),s=n("f1ae");a(a.S,"Object",{getOwnPropertyDescriptors:function(t){var e,n,a=o(t),i=c.f,u=r(a),l={},p=0;while(u.length>p)n=i(a,e=u[p++]),void 0!==n&&s(l,e,n);return l}})},"990b":function(t,e,n){var a=n("9093"),r=n("2621"),o=n("cb7c"),c=n("7726").Reflect;t.exports=c&&c.ownKeys||function(t){var e=a.f(o(t)),n=r.f;return n?e.concat(n(t)):e}},"9abe":function(t,e,n){},bd86:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var a=n("85f2"),r=n.n(a);function o(t,e,n){return e in t?r()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},cd41:function(t,e,n){"use strict";var a=n("9abe"),r=n.n(a);r.a},f1ae:function(t,e,n){"use strict";var a=n("86cc"),r=n("4630");t.exports=function(t,e,n){e in t?a.f(t,e,r(0,n)):t[e]=n}}}]);
//# sourceMappingURL=chunk-c843bc74.d128b398.js.map